<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G6 Cafe - Menu</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <header>
        <h1>G6 Cafe</h1>
        <nav>
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('menu') }}">Menu</a>
            <a href="{{ url_for('cart') }}"><img src="{{ url_for('static', filename='images/cart.png') }}" height="50px" width="50"></a>
        </nav>
    </header>

    <div class="menu-container">
        <aside class="best-seller-navigation">
            <a href="#espresso" class="nav-link"><img src="{{ url_for('static', filename='images/coffee.png') }}" alt="coffee"></a>
            <a href="#tea" class="nav-link"><img src="{{ url_for('static', filename='images/tea.png') }}" alt="tea"></a>
            <a href="#ice blended" class="nav-link"><img src="{{ url_for('static', filename='images/ice blended.png') }}" alt="ice blended"></a>
            <a href="#pasta" class="nav-link"><img src="{{ url_for('static', filename='images/pasta.png') }}" alt="pasta"></a>
            <a href="#pastries" class="nav-link"><img src="{{ url_for('static', filename='images/pastries.png') }}" alt="pastries"></a>
        </aside>

        <section class="best-sellers">
            <div id="menu-items" class="products">Loading menu...</div>
        </section>
    </div>

    <!-- Modal for adding to cart -->
    <div id="cart-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <h2 id="modal-item-name">Item Name</h2>
            <img id="modal-item-photo" src="" alt="Item Photo">
            <p id="modal-item-price">Price: </p>
            <form id="add-to-cart-form">
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" name="quantity" min="1" value="1">
                <label for="preferences">Preferences:</label>
                <textarea id="preferences" name="preferences" rows="4" cols="50"></textarea>
                <button type="submit">Add to Cart</button>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script>
        // This script will be used to open and close the modal for adding to cart
        function openModal(item) {
            const modal = document.getElementById('cart-modal');
            const itemName = document.getElementById('modal-item-name');
            const itemPrice = document.getElementById('modal-item-price');
            const itemPhoto = document.getElementById('modal-item-photo');

            itemName.textContent = item.name;
            itemPrice.textContent = `Price: ${item.price}`;
            itemPhoto.src = item.photo;

            modal.style.display = 'block'; // Show the modal
        }

        function closeModal() {
            const modal = document.getElementById('cart-modal');
            modal.style.display = 'none'; // Hide the modal
        }

        // Function to generate menu items and attach the modal trigger
        const menuItems = [
            { name: 'Double Espresso', price: 'P125.00', photo: '/static/images/double espresso.png' },
            { name: 'Matcha Cream', price: 'P135.00', photo: '/static/images/matcha cream.png' },
            { name: 'Latte', price: 'P175.00', photo: '/static/images/latte.png' },
            { name: 'Lasagna', price: 'P160.00', photo: '/static/images/lasagna.jpg' },
            { name: 'Ravioli', price: 'P200.00', photo: '/static/images/ravioli.jpg' }
        ];

        const menuItemsContainer = document.getElementById('menu-items');

        menuItems.forEach(item => {
            const productCard = document.createElement('div');
            productCard.classList.add('product-card');
            productCard.innerHTML = `
                <img src="${item.photo}" alt="${item.name}">
                <h4>${item.name}</h4>
                <p>${item.price}</p>
                <button onclick="openModal(${JSON.stringify(item)})">Add to Cart</button>
            `;
            menuItemsContainer.appendChild(productCard);
        });
    </script>
</body>
</html>
